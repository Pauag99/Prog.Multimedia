import{$ as L,C as v,H as h,I as H,J as x,L as C,M,_ as b,aa as d,c as R,ja as k,na as S,oa as D,ra as F,ua as A,va as O}from"./chunk-KDUIO2DP.js";import{$a as T,Ea as w,Va as u,_a as y,ab as g}from"./chunk-MO5GK763.js";var z=["canvasContainer"],I=class f{constructor(){this.clock=new F;this.animationId=0;this.animate=()=>{this.animationId=requestAnimationFrame(this.animate);let t=this.clock.getDelta();this.mixer&&this.mixer.update(t),this.renderer.render(this.scene,this.camera)}}ngOnInit(){this.initThreeJS(),this.animate()}ngOnDestroy(){cancelAnimationFrame(this.animationId),this.renderer.dispose()}initThreeJS(){this.scene=new M,this.scene.background=new v(12571109),this.scene.fog=new C(12571109,10,50),this.camera=new x(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.set(0,2,5),this.renderer=new A({antialias:!0});let t=this.canvasContainer.nativeElement,i=t.offsetWidth,s=t.offsetHeight;this.renderer.setSize(i,s),this.renderer.shadowMap.enabled=!0,t.appendChild(this.renderer.domElement);let a=new O(this.camera,this.renderer.domElement);a.enableDamping=!0;let P=new D(16777215,.5);this.scene.add(P);let r=new S(16777215,1);r.position.set(5,10,7.5),r.castShadow=!0,this.scene.add(r);let p=new k,c=p.load("");c.wrapS=c.wrapT=R,c.repeat.set(10,10);let G=new d({map:c}),m=new h(new b(100,100),G);m.rotation.x=-Math.PI/2,m.receiveShadow=!0,this.scene.add(m);let W=p.load("./img/Cube.jpg"),_=new d({map:W}),n=new h(new H(1,1,1),_);n.position.set(-2,.5,0),n.castShadow=!0,this.scene.add(n);let Q=p.load("./img/Sphere.jpg"),j=new d({map:Q}),o=new h(new L(.5),j);o.position.set(2,.5,0),o.castShadow=!0,this.scene.add(o),window.addEventListener("keydown",e=>{e.key==="l"&&(r.intensity=r.intensity===0?1:0),e.key==="ArrowRight"&&(n.position.x+=.5),e.key==="ArrowLeft"&&(n.position.x-=.5),e.key==="ArrowUp"&&(n.position.y+=.5),e.key==="ArrowDown"&&(n.position.y-=.5),e.key==="d"&&(o.position.x+=.5),e.key==="a"&&(o.position.x-=.5),e.key==="w"&&(o.position.y+=.5),e.key==="s"&&(o.position.y-=.5),e.key==="e"&&(o.rotation.y+=.1),e.key==="c"&&(n.rotation.y+=.1)}),window.addEventListener("resize",()=>{let e=this.canvasContainer.nativeElement,E=e.offsetWidth,l=e.offsetHeight;this.camera.aspect=E/l,this.camera.updateProjectionMatrix(),this.renderer.setSize(E,l)})}static{this.\u0275fac=function(i){return new(i||f)}}static{this.\u0275cmp=w({type:f,selectors:[["app-fruitshop-list"]],viewQuery:function(i,s){if(i&1&&y(z,7),i&2){let a;T(a=g())&&(s.canvasContainer=a.first)}},decls:2,vars:0,consts:[["canvasContainer",""],[1,"three-container"]],template:function(i,s){i&1&&u(0,"div",1,0)},styles:['@charset "UTF-8";.three-container[_ngcontent-%COMP%]{width:100%;height:80vh;position:relative;overflow:hidden}canvas[_ngcontent-%COMP%]{width:100%;height:100%}']})}};export{I as FruitshopListComponent};
