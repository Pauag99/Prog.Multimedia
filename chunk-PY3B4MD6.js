import{g as B,h as H,i as X,j as J,k as Y,l as M,p as ee}from"./chunk-72OK4AVW.js";import{$a as S,Da as g,Ja as c,Ka as q,La as a,M as w,Ma as r,Na as l,Oa as E,Pa as O,Qa as h,Ra as f,Sa as Q,Ta as Z,Ua as K,Va as I,Wa as m,Xa as u,Y as y,Z as v,Za as A,_a as T,ab as $,ca as V,ga as U,k as _,n as z,oa as P,qa as s,va as C,za as d}from"./chunk-PA5SXKXX.js";var D=[{_id:1,name:"Walk On The Wild Side",cover:"https://i.ytimg.com/vi/oG6fayQBm9w/maxresdefault.jpg",duration:{start:0,end:254},url:"./sounds/Walk-On-The-Wild.mp3"},{_id:2,name:"Bad Girl",cover:"https://i.scdn.co/image/ab67616d00001e02802255bd535533c0e2ba5ad2",duration:{start:0,end:183},url:"./sounds/Bad-Girl.mp3"},{_id:3,name:"Kimberly",cover:"https://cdn-images.dzcdn.net/images/cover/6d8164d4f569651063531577cc1e1b30/1900x1900-000000-80-0-0.jpg",duration:{start:0,end:266},url:"./sounds/Kimberly.mp3"},{_id:4,name:"Acros 110th Street",cover:"https://i.ytimg.com/vi/UOg_8hCC4u4/hqdefault.jpg?sqp=-oaymwEmCOADEOgC8quKqQMa8AEB-AG-AoAC8AGKAgwIABABGGUgVShSMA8=&rs=AOn4CLBCU5uMZb9U2QEOEWHTyLpmeMQ4nA",duration:{start:0,end:310},url:"./sounds/Bobby-Womack-Across-110th-Street.mp3"},{_id:5,name:"When The Whip Comes Down",cover:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR2S0vGnhUIRLRNFGNA-Of-jMVZbLqULGNASg&s",duration:{start:0,end:261},url:"./sounds/When-The-Whip-Comes-Down-_Remastered_.mp3"},{_id:6,name:"Walk On The Wild Side",cover:"https://i.ytimg.com/vi/oG6fayQBm9w/maxresdefault.jpg",duration:{start:0,end:254},url:"./sounds/Walk-On-The-Wild.mp3"},{_id:7,name:"Bad Girl",cover:"https://i.scdn.co/image/ab67616d00001e02802255bd535533c0e2ba5ad2",duration:{start:0,end:183},url:"./sounds/Bad-Girl.mp3"},{_id:8,name:"Kimberly",cover:"https://cdn-images.dzcdn.net/images/cover/6d8164d4f569651063531577cc1e1b30/1900x1900-000000-80-0-0.jpg",duration:{start:0,end:266},url:"./sounds/Kimberly.mp3"},{_id:9,name:"Acros 110th Street",cover:"https://i.ytimg.com/vi/UOg_8hCC4u4/hqdefault.jpg?sqp=-oaymwEmCOADEOgC8quKqQMa8AEB-AG-AoAC8AGKAgwIABABGGUgVShSMA8=&rs=AOn4CLBCU5uMZb9U2QEOEWHTyLpmeMQ4nA",duration:{start:0,end:310},url:"./sounds/Bobby-Womack-Across-110th-Street.mp3"},{_id:10,name:"When The Whip Comes Down",cover:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR2S0vGnhUIRLRNFGNA-Of-jMVZbLqULGNASg&s",duration:{start:0,end:261},url:"./sounds/When-The-Whip-Comes-Down-_Remastered_.mp3"}];var k=class i{callback=new V;trackInfo$=new _(void 0);audio;timeElapsed$=new _("00:00 ");timeRemaining$=new _(" -00:00");playerStatus$=new _("paused");playerPercentage$=new _(0);tracks=D;currentTrackIndex=0;constructor(){this.audio=new Audio,this.trackInfo$.subscribe(t=>{t&&this.setAudio(t)}),this.listenAllEvents()}listenAllEvents(){this.audio.addEventListener("timeupdate",this.calculateTime,!1),this.audio.addEventListener("playing",this.setPlayerStatus,!1),this.audio.addEventListener("play",this.setPlayerStatus,!1),this.audio.addEventListener("pause",this.setPlayerStatus,!1),this.audio.addEventListener("ended",this.setPlayerStatus,!1)}setPlayerStatus=t=>{switch(t.type){case"play":this.playerStatus$.next("play");break;case"playing":this.playerStatus$.next("playing");break;case"ended":this.playerStatus$.next("ended"),this.nextTrack();break;default:this.playerStatus$.next("paused");break}};calculateTime=()=>{let{duration:t,currentTime:e}=this.audio;this.setTimeElapsed(e),this.setRemaining(e,t),this.setPercentage(e,t)};setPercentage(t,e){let n=t*100/e;this.playerPercentage$.next(n)}setTimeElapsed(t){let e=Math.floor(t%60),n=Math.floor(t/60%60),o=e<10?`0${e}`:e,b=`${n<10?`0${n}`:n}:${o}`;this.timeElapsed$.next(b)}setRemaining(t,e){let n=e-t,o=Math.floor(n%60),p=Math.floor(n/60%60),b=o<10?`0${o}`:o,re=` -${p<10?`0${p}`:p}:${b}`;this.timeRemaining$.next(re)}setAudio(t){this.currentTrackIndex=Number(t._id),this.audio&&(this.audio.pause(),this.audio.currentTime=0),this.audio.src=t.url,this.audio.load(),this.audio.play().catch(e=>{console.error("Error al reproducir el audio:",e)})}togglePlayer(){this.audio.paused?this.audio.play():this.audio.pause()}seekAudio(t){let{duration:e}=this.audio,n=t*e/100;this.audio.currentTime=n}previousTrack(){this.currentTrackIndex-1<=0?this.trackInfo$.next(this.tracks[9]):this.trackInfo$.next(this.tracks[this.currentTrackIndex-2])}nextTrack(){this.currentTrackIndex+1>10?this.trackInfo$.next(this.tracks[0]):this.trackInfo$.next(this.tracks[this.currentTrackIndex])}static \u0275fac=function(e){return new(e||i)};static \u0275prov=w({token:i,factory:i.\u0275fac,providedIn:"root"})};var se=["progressBar"],ce=(i,t)=>({"uil-play-circle":i,"uil-pause-circle":t});function le(i,t){i&1&&E(0)}function pe(i,t){i&1&&E(0)}function de(i,t){i&1&&E(0)}function me(i,t){if(i&1&&(a(0,"div",11),l(1,"img",12),a(2,"div",13)(3,"h3",14),m(4),r(),a(5,"h5",15),m(6),r()()()),i&2){let e=t.ngIf;s(),c("src",e.cover,P),s(3),u(e.name),s(2),u(e.album)}}function ue(i,t){if(i&1&&(g(0,me,7,3,"div",10),T(1,"async")),i&2){let e=f();c("ngIf",S(1,1,e.multimediaService.trackInfo$))}}function ge(i,t){if(i&1){let e=O();a(0,"div",16)(1,"div",17)(2,"button",18),h("click",function(){y(e);let o=f();return v(o.previusTrack())}),l(3,"i",19),r(),a(4,"button",20),h("click",function(){y(e);let o=f();return v(o.multimediaService.togglePlayer())}),l(5,"i",21),r(),a(6,"button",22),h("click",function(){y(e);let o=f();return v(o.nextTrack())}),l(7,"i",23),r()()()}if(i&2){let e=f();s(5),c("ngClass",A(1,ce,e.state==="paused",e.state!=="paused"))}}function fe(i,t){if(i&1){let e=O();a(0,"div",24)(1,"div",25),m(2),T(3,"async"),r(),a(4,"span",26,3),h("click",function(o){y(e);let p=f();return v(p.handlePosition(o))}),l(6,"span",27),T(7,"async"),r(),a(8,"div",25),m(9),T(10,"async"),r()()}if(i&2){let e=f();s(2),u(S(3,4,e.multimediaService.timeElapsed$)),s(4),q("width",S(7,6,e.multimediaService.playerPercentage$)+"%"),s(3),u(S(10,8,e.multimediaService.timeRemaining$))}}var j=class i{constructor(t){this.multimediaService=t}progressBar=new U("");listObservers$=[];state="paused";ngOnInit(){let t=this.multimediaService.playerStatus$.subscribe(e=>this.state=e);this.listObservers$=[t]}ngOnDestroy(){this.multimediaService.audio.pause(),this.listObservers$.forEach(t=>t.unsubscribe())}handlePosition(t){let e=this.progressBar.nativeElement,{clientX:n}=t,{x:o,width:p}=e.getBoundingClientRect(),L=(n-o)*100/p;this.multimediaService.seekAudio(L)}previusTrack(){this.multimediaService.previousTrack()}nextTrack(){this.multimediaService.nextTrack()}static \u0275fac=function(e){return new(e||i)(C(k))};static \u0275cmp=d({type:i,selectors:[["app-media-player"]],viewQuery:function(e,n){if(e&1&&Q(se,5),e&2){let o;Z(o=K())&&(n.progressBar=o.first)}},decls:15,vars:3,consts:[["artistZone",""],["playerZone",""],["musicTime",""],["progressBar",""],[1,"principal"],[1,"media-player"],[1,"media-player--wrapper"],["width","30%",1,"artist","player-center"],[4,"ngTemplateOutlet"],["width","35%",1,"player-controls","player-center"],["class","artist-inside",4,"ngIf"],[1,"artist-inside"],["alt","",1,"cover",3,"src"],[1,"track-info"],[1,"track-title"],[1,"track-title","sub-title"],[1,"player-controls-inside"],[1,"buttons-media"],[1,"arrow","btn","left",3,"click"],[1,"uil","uil-previous"],[1,"play","btn",3,"click"],[1,"uil",3,"ngClass"],[1,"arrow","btn","right",3,"click"],[1,"uil","uil-step-forward"],[1,"media-linetime"],[1,"time"],[1,"time-progress",3,"click"],[1,"time-progress-live"]],template:function(e,n){if(e&1&&(a(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),g(4,le,1,0,"ng-container",8),r(),a(5,"div",9),g(6,pe,1,0,"ng-container",8),r(),a(7,"div",9),g(8,de,1,0,"ng-container",8),r()()(),g(9,ue,2,3,"ng-template",null,0,$)(11,ge,8,4,"ng-template",null,1,$)(13,fe,11,10,"ng-template",null,2,$),r()),e&2){let o=I(10),p=I(12),b=I(14);s(4),c("ngTemplateOutlet",o),s(2),c("ngTemplateOutlet",b),s(2),c("ngTemplateOutlet",p)}},dependencies:[M,B,X,J,Y],styles:['@charset "UTF-8";.media-player[_ngcontent-%COMP%]{background-color:var(--color-5);position:fixed;bottom:0;height:85px;border-top:solid 1px var(--color-2);box-shadow:0 -5px 10px #0003;width:100%;right:0}.media-player[_ngcontent-%COMP%]   .media-player--wrapper[_ngcontent-%COMP%]{display:flex;height:100%;padding:0;justify-content:space-between;align-items:center}.media-player--wrapper[_ngcontent-%COMP%]   .artist[_ngcontent-%COMP%]{width:25%;padding:0 1rem;display:flex;align-items:center}.artist-inside[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.artist-inside[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;border-radius:8px}.artist-inside[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.track-title[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:500}.sub-title[_ngcontent-%COMP%]{margin:0;font-size:.85rem;opacity:.7}.player-controls[_ngcontent-%COMP%]{width:50%;display:flex;flex-direction:column;align-items:center}.buttons-media[_ngcontent-%COMP%]{display:flex;gap:1rem}.btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.8rem;color:var(--color-4);cursor:pointer;opacity:.8;transition:.3s}.btn[_ngcontent-%COMP%]:hover{opacity:1}.play[_ngcontent-%COMP%]{font-size:2.5rem}.media-linetime[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;font-size:.8rem;margin-top:5px}.time-progress[_ngcontent-%COMP%]{background-color:#fff3;height:6px;width:100%;position:relative;cursor:pointer;border-radius:3px;overflow:hidden;box-shadow:0 2px 4px #0000004d,0 -2px 4px #0000004d}.time-progress-live[_ngcontent-%COMP%]{background-color:var(--color-4);width:0%;height:100%;transition:width .3s ease-in-out;border-radius:3px;position:relative}.time-progress-live[_ngcontent-%COMP%]:after{content:"";position:absolute;right:0;top:50%;width:12px;height:12px;background-color:var(--color-4);border-radius:50%;transform:translate(50%,-50%);transition:all .2s ease}@media (max-width: 768px){.media-player[_ngcontent-%COMP%]{height:70px}.time-progress[_ngcontent-%COMP%]{height:5px}.time-progress-live[_ngcontent-%COMP%]:after{width:10px;height:10px}.btn[_ngcontent-%COMP%]{font-size:1.5rem}.play[_ngcontent-%COMP%]{font-size:2rem}}']})};var N=class i{constructor(t){this.multimediaService=t}track={_id:0,name:"",url:"",cover:""};sendPlay(t){this.multimediaService.trackInfo$.next(t)}static \u0275fac=function(e){return new(e||i)(C(k))};static \u0275cmp=d({type:i,selectors:[["app-card-player"]],inputs:{track:"track"},decls:7,vars:3,consts:[["audioPlayer",""],[1,"card-player","player-big"],["alt","",1,"cover",3,"click","src"],[1,"content-player"],[1,"title-track"],[3,"src"]],template:function(e,n){if(e&1){let o=O();a(0,"div",1)(1,"img",2),h("click",function(){return y(o),v(n.sendPlay(n.track))}),r(),a(2,"div",3)(3,"div",4),m(4),r()(),l(5,"audio",5,0),r()}e&2&&(s(),c("src",n.track.cover,P),s(3),u(n.track.name),s(),c("src",n.track.url,P))},dependencies:[M],styles:[".card-player[_ngcontent-%COMP%]{background-color:var(--color-2);height:5rem;border-radius:var(--border-radius-1);display:flex;cursor:pointer;transition:all ease var(--animation-1);justify-content:space-between}.card-player[_ngcontent-%COMP%]:hover{background-color:#4d4d4d38}.card-player[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{width:5rem;height:100%;object-fit:cover;border-top-left-radius:var(--border-radius-1);border-bottom-left-radius:var(--border-radius-1)}.card-player[_ngcontent-%COMP%]   .content-player[_ngcontent-%COMP%]{font-weight:500;display:flex;align-items:center;align-content:center;padding:0 0 0 .75rem}.card-player[_ngcontent-%COMP%]   .buttons-player[_ngcontent-%COMP%]{opacity:1;width:5rem;display:flex;justify-content:center;align-content:center;align-items:center;transition:all ease var(--animation-1)}.card-player[_ngcontent-%COMP%]:hover   .buttons-player[_ngcontent-%COMP%]{opacity:1}.card-player[_ngcontent-%COMP%]   .buttons-player[_ngcontent-%COMP%]   .play-btn[_ngcontent-%COMP%]{color:var(--color-4);border:0;font-size:1.15rem;border-radius:2rem;background-color:var(--color-1);width:45px;height:45px}.card-player.player-big[_ngcontent-%COMP%]{position:relative;flex-direction:column;height:18rem;padding:1rem}.card-player.player-big[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{width:100%;height:200px;border-radius:var(--border-radius-1)}.card-player.player-big[_ngcontent-%COMP%]   .content-player[_ngcontent-%COMP%]{padding:.5rem 0;flex-direction:column;align-self:flex-start;align-items:flex-start}.card-player.player-big[_ngcontent-%COMP%]   .content-player[_ngcontent-%COMP%]   .sub-title-track[_ngcontent-%COMP%]{font-size:80%;opacity:.7}.card-player.player-big[_ngcontent-%COMP%]   .buttons-player[_ngcontent-%COMP%]{position:absolute;right:0;top:13rem}"]})};var ye=(i,t)=>({"card-small":i,"card-big":t});function ve(i,t){if(i&1&&(a(0,"li"),l(1,"app-card-player",5),r()),i&2){let e=t.$implicit;s(),c("track",e)}}var R=class i{title="";mode="big";dataTracks=[];static \u0275fac=function(e){return new(e||i)};static \u0275cmp=d({type:i,selectors:[["app-section-generic"]],inputs:{title:"title",mode:"mode",dataTracks:"dataTracks"},decls:6,vars:6,consts:[[1,"section--generic"],[1,"section--generic__title"],[1,"section--generic__player--zone"],[1,"player--list",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"track"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"h3",1),m(2),r(),a(3,"div",2)(4,"ul",3),g(5,ve,2,1,"li",4),r()()()),e&2&&(s(2),u(n.title),s(2),c("ngClass",A(3,ye,n.mode==="small",n.mode==="big")),s(),c("ngForOf",n.dataTracks))},dependencies:[M,B,H,N],styles:[".section--generic[_ngcontent-%COMP%]{margin-bottom:2rem}.section--generic__player--zone[_ngcontent-%COMP%]   .player--list[_ngcontent-%COMP%]{display:grid;list-style:none;margin:0;padding:0;gap:1.15rem}.section--generic__player--zone[_ngcontent-%COMP%]   .player--list.card-small[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr)}.section--generic__player--zone[_ngcontent-%COMP%]   .player--list.card-big[_ngcontent-%COMP%]{grid-template-columns:repeat(6,minmax(100px,1fr))}"]})};var W=class i{dataTracks$=z([]);constructor(){this.dataTracks$=z(D)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=w({token:i,factory:i.\u0275fac,providedIn:"root"})};var F=class i{constructor(t){this.trackService=t}tracksTrending=[];listObservers$=[];ngOnInit(){let t=this.trackService.dataTracks$.subscribe(e=>{this.tracksTrending=e});this.listObservers$=[t]}ngOnDestroy(){this.listObservers$.forEach(t=>t.unsubscribe())}static \u0275fac=function(e){return new(e||i)(C(W))};static \u0275cmp=d({type:i,selectors:[["app-tracks-page"]],decls:2,vars:1,consts:[[1,"tracks-page"],[3,"dataTracks"]],template:function(e,n){e&1&&(a(0,"div",0),l(1,"app-section-generic",1),r()),e&2&&(s(),c("dataTracks",n.tracksTrending))},dependencies:[R,ee],encapsulation:2})};var ne=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=d({type:i,selectors:[["app-musicpage"]],decls:3,vars:0,consts:[[1,"home-wrapper"]],template:function(e,n){e&1&&(a(0,"div",0),l(1,"app-tracks-page"),r(),l(2,"app-media-player"))},dependencies:[j,F],encapsulation:2})};export{ne as MusicpageComponent};
